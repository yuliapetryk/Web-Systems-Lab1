<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>K6 Result Plot</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <div id="plot1"></div>
  <div id="plot2"></div>
  <script>
  const json = [{"t":"2024-11-10T16:38:01Z","vu":20,"avg":528.6490025,"p90":1018.955142051105,"p95":1018.955142051105,"p99":1018.955142051105,"rps":40},{"t":"2024-11-10T16:38:02Z","vu":20,"avg":7.758299999999998,"p90":9.235310964628798,"p95":9.4052,"p99":12.2929,"rps":40},{"t":"2024-11-10T16:38:03Z","vu":20,"avg":8.2535325,"p90":9.9726,"p95":10.196609991563442,"p99":12.4736,"rps":40},{"t":"2024-11-10T16:38:04Z","vu":20,"avg":7.7536000000000005,"p90":10.4656,"p95":10.9087,"p99":13.2074,"rps":40},{"t":"2024-11-10T16:38:05Z","vu":20,"avg":7.294967567567569,"p90":8.8659,"p95":9.7504,"p99":10.423,"rps":37},{"t":"2024-11-10T16:38:06Z","vu":20,"avg":9.92865142857143,"p90":14.8276,"p95":15.455170686458196,"p99":19.2388,"rps":35},{"t":"2024-11-10T16:38:07Z","vu":20,"avg":15.48958928571429,"p90":23.3962,"p95":23.3962,"p99":24.3248,"rps":28},{"t":"2024-11-10T16:38:08Z","vu":20,"avg":10.000407499999998,"p90":19.3066,"p95":20.3037,"p99":23.465,"rps":40},{"t":"2024-11-10T16:38:09Z","vu":20,"avg":7.1645775000000045,"p90":10.1312,"p95":10.7863,"p99":11.4548,"rps":40},{"t":"2024-11-10T16:38:10Z","vu":20,"avg":7.41298,"p90":9.3067,"p95":10.0615,"p99":11.2863,"rps":40},{"t":"2024-11-10T16:38:11Z","vu":20,"avg":7.626902499999998,"p90":10.3156,"p95":10.8934,"p99":14.4355,"rps":40},{"t":"2024-11-10T16:38:12Z","vu":20,"avg":10.923720000000005,"p90":18.2237,"p95":20.8778,"p99":31.1088,"rps":40},{"t":"2024-11-10T16:38:13Z","vu":20,"avg":7.775239999999998,"p90":12.984,"p95":13.6396,"p99":16.5795,"rps":40},{"t":"2024-11-10T16:38:14Z","vu":20,"avg":6.519422499999999,"p90":8.8772,"p95":9.2086,"p99":12.7859,"rps":40},{"t":"2024-11-10T16:38:15Z","vu":20,"avg":7.609465,"p90":10.196609991563442,"p95":10.928455996790117,"p99":12.1446,"rps":40},{"t":"2024-11-10T16:38:16Z","vu":20,"avg":7.275007499999999,"p90":9.9018,"p95":11.3934,"p99":12.0541,"rps":40},{"t":"2024-11-10T16:38:17Z","vu":20,"avg":6.094252500000002,"p90":8.1673,"p95":8.6169,"p99":10.5326,"rps":40},{"t":"2024-11-10T16:38:18Z","vu":20,"avg":7.14132,"p90":9.1591,"p95":9.3746,"p99":11.6864,"rps":40},{"t":"2024-11-10T16:38:19Z","vu":20,"avg":8.236894999999999,"p90":11.597419828719373,"p95":12.8589,"p99":13.4166,"rps":40},{"t":"2024-11-10T16:38:20Z","vu":20,"avg":4.804382500000001,"p90":6.4924,"p95":6.6741,"p99":7.068,"rps":40},{"t":"2024-11-10T16:38:21Z","vu":20,"avg":4.836112500000002,"p90":6.3157,"p95":7.1017,"p99":8.6281,"rps":40},{"t":"2024-11-10T16:38:22Z","vu":20,"avg":10.017762499999996,"p90":14.708611031254073,"p95":15.2331,"p99":16.8154,"rps":40},{"t":"2024-11-10T16:38:23Z","vu":20,"avg":6.6884725000000005,"p90":9.4502,"p95":9.9674,"p99":16.0686,"rps":40},{"t":"2024-11-10T16:38:24Z","vu":20,"avg":6.515545,"p90":10.6372,"p95":11.4706,"p99":12.3975,"rps":40},{"t":"2024-11-10T16:38:25Z","vu":20,"avg":5.172112500000001,"p90":6.861809675921133,"p95":7.3515,"p99":7.9092,"rps":40},{"t":"2024-11-10T16:38:26Z","vu":20,"avg":7.455329999999999,"p90":10.29807942090908,"p95":10.29807942090908,"p99":17.6325,"rps":40},{"t":"2024-11-10T16:38:27Z","vu":20,"avg":5.13194,"p90":7.9976,"p95":8.22,"p99":10.4327,"rps":40},{"t":"2024-11-10T16:38:28Z","vu":20,"avg":5.892244999999999,"p90":7.2547,"p95":7.7883,"p99":9.509,"rps":40},{"t":"2024-11-10T16:38:29Z","vu":20,"avg":5.8815550000000005,"p90":8.2042,"p95":9.2821,"p99":9.9641,"rps":40},{"t":"2024-11-10T16:38:30Z","vu":20,"avg":5.6281075,"p90":9.2009,"p95":9.8774,"p99":11.5031,"rps":40},{"t":"2024-11-10T16:38:31Z","vu":20,"avg":4.699532500000001,"p90":6.5313,"p95":7.5008,"p99":8.2963,"rps":40},{"t":"2024-11-10T16:38:32Z","vu":20,"avg":6.263012499999999,"p90":9.5461,"p95":10.4498,"p99":11.8202,"rps":40},{"t":"2024-11-10T16:38:33Z","vu":20,"avg":4.7149350000000005,"p90":7.4625,"p95":8.2691,"p99":8.416,"rps":40},{"t":"2024-11-10T16:38:34Z","vu":20,"avg":4.410217500000001,"p90":6.2215,"p95":6.2215,"p99":8.2187,"rps":40},{"t":"2024-11-10T16:38:35Z","vu":20,"avg":4.348545,"p90":5.645,"p95":6.251,"p99":7.8146,"rps":40},{"t":"2024-11-10T16:38:36Z","vu":20,"avg":9.955405000000003,"p90":18.7734,"p95":20.393219983126883,"p99":20.393219983126883,"rps":40},{"t":"2024-11-10T16:38:37Z","vu":20,"avg":3.9514277777777775,"p90":4.6671,"p95":5.0331,"p99":6.3283,"rps":36},{"t":"2024-11-10T16:38:38Z","vu":20,"avg":3.8685277777777785,"p90":4.9722,"p95":5.4673,"p99":9.8544,"rps":36},{"t":"2024-11-10T16:38:39Z","vu":20,"avg":5.540159459459459,"p90":9.6148,"p95":15.4458,"p99":16.2579,"rps":37},{"t":"2024-11-10T16:38:40Z","vu":20,"avg":4.533841935483871,"p90":5.5974,"p95":6.5738,"p99":7.775,"rps":31},{"t":"2024-11-10T16:38:41Z","vu":20,"avg":5.38365,"p90":6.861809675921133,"p95":7.2779,"p99":12.8801,"rps":40},{"t":"2024-11-10T16:38:42Z","vu":20,"avg":4.0486225,"p90":4.7771,"p95":5.0877,"p99":6.8948,"rps":40},{"t":"2024-11-10T16:38:43Z","vu":20,"avg":6.273139999999998,"p90":12.6941,"p95":13.0741,"p99":13.7345,"rps":40},{"t":"2024-11-10T16:38:44Z","vu":20,"avg":3.8283950000000004,"p90":4.8681,"p95":5.9406,"p99":6.301,"rps":40},{"t":"2024-11-10T16:38:45Z","vu":20,"avg":4.0960625,"p90":4.949080605079802,"p95":5.3155,"p99":6.1984,"rps":40},{"t":"2024-11-10T16:38:46Z","vu":20,"avg":3.8900274999999978,"p90":4.804223924587214,"p95":4.9706,"p99":5.0604,"rps":40},{"t":"2024-11-10T16:38:47Z","vu":20,"avg":4.0700725,"p90":5.6469,"p95":6.7561,"p99":7.434,"rps":40},{"t":"2024-11-10T16:38:48Z","vu":20,"avg":3.9361149999999996,"p90":4.9336,"p95":5.3669,"p99":5.7768,"rps":40},{"t":"2024-11-10T16:38:49Z","vu":20,"avg":3.602867500000001,"p90":4.394600340791527,"p95":4.576,"p99":5.0584,"rps":40},{"t":"2024-11-10T16:38:50Z","vu":20,"avg":3.5609349999999984,"p90":4.3964,"p95":4.4284,"p99":4.763,"rps":40},{"t":"2024-11-10T16:38:51Z","vu":20,"avg":4.301575000000001,"p90":5.464227998395058,"p95":6.5901,"p99":7.5269,"rps":40},{"t":"2024-11-10T16:38:52Z","vu":20,"avg":3.9087224999999974,"p90":5.9271,"p95":6.0681,"p99":6.8439,"rps":40},{"t":"2024-11-10T16:38:53Z","vu":20,"avg":4.277505,"p90":7.210092070149029,"p95":7.8793,"p99":8.8672,"rps":40},{"t":"2024-11-10T16:38:54Z","vu":20,"avg":3.459405000000001,"p90":4.1624,"p95":4.3663,"p99":5.1419,"rps":40},{"t":"2024-11-10T16:38:55Z","vu":20,"avg":10.032425,"p90":16.401228410309564,"p95":18.5229,"p99":34.9453,"rps":40},{"t":"2024-11-10T16:38:56Z","vu":20,"avg":5.169927500000001,"p90":7.2008,"p95":7.7337,"p99":10.3318,"rps":40},{"t":"2024-11-10T16:38:57Z","vu":20,"avg":4.0393975,"p90":5.9645,"p95":6.8696,"p99":7.8264,"rps":40},{"t":"2024-11-10T16:38:58Z","vu":20,"avg":4.642177500000001,"p90":7.8677,"p95":8.2736,"p99":10.1562,"rps":40},{"t":"2024-11-10T16:38:59Z","vu":20,"avg":4.606622500000001,"p90":5.4054,"p95":5.7615,"p99":7.036,"rps":40},{"t":"2024-11-10T16:39:00Z","vu":20,"avg":4.337855,"p90":4.9551,"p95":5.5626,"p99":6.1552,"rps":20}];

  const data1 = [
      {
        x: json.map((d) => d.t),
        y: json.map((d) => d.vu),
        type: 'scatter',
        mode: 'lines',
        name: 'Virtual Users'
      },
      {
        x: json.map((d) => d.t),
        y: json.map((d) => d.rps),
        type: 'scatter',
        mode: 'lines',
        name: 'Requests per Second',
        yaxis: 'y2'
      }
    ];

    const layout1 = {
      title: 'Virtual Users vs Requests per Second',
      xaxis: {
        title: 'Time'
      },
      yaxis: {
        title: 'Virtual Users',
        showline: true,
        zeroline: false,
        showgrid: false
      },
      yaxis2: {
        title: 'Requests per Second',
        overlaying: 'y',
        side: 'right'
      }
    };

    const data2 = [
      {
        x: json.map((d) => d.t),
        y: json.map((d) => d.rps),
        type: 'scatter',
        mode: 'lines',
        name: 'Requests per Second'
      },
      {
        x: json.map((d) => d.t),
        y: json.map((d) => d.avg),
        type: 'scatter',
        mode: 'lines',
        name: 'Average Response Time',
        yaxis: 'y2'
      },
      {
        x: json.map((d) => d.t),
        y: json.map((d) => d.p90),
        type: 'scatter',
        mode: 'lines',
        name: '90th Percentile',
        yaxis: 'y2'
      },
      {
        x: json.map((d) => d.t),
        y: json.map((d) => d.p95),
        type: 'scatter',
        mode: 'lines',
        name: '95th Percentile',
        yaxis: 'y2'
      },
      {
        x: json.map((d) => d.t),
        y: json.map((d) => d.p99),
        type: 'scatter',
        mode: 'lines',
        name: '99th Percentile',
        yaxis: 'y2'
      }
    ];

    const layout2 = {
      title: 'Performance Metrics',
      xaxis: {
        title: 'Time'
      },
      yaxis: {
        title: 'Requests per Second',
        showline: true,
        zeroline: true,
        showgrid: false
      },
      yaxis2: {
        title: 'Response Time (ms)',
        overlaying: 'y',
        side: 'right'
      }
    };

    Plotly.newPlot('plot1', data1, layout1);
    Plotly.newPlot('plot2', data2, layout2);

  </script>
</body>
</html>
